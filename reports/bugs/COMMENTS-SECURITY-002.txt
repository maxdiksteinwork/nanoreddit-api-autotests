========================================
BUG-ID: COMMENTS-SECURITY-002
SUMMARY:
API принимает SQL-инъекции в поле text при ответе на комментарий, создавая комментарии с потенциально опасными данными. SQL-инъекционные пейлоады не отклоняются валидацией и успешно сохраняются в базе данных

ENVIRONMENT:
Local Docker nanoreddit
Endpoint: /api/v1/comments/{parentCommentId}/reply

PRECONDITIONS:
Имеется валидный токен пользователя для авторизации
Существует комментарий с валидным parentCommentId

STEPS TO REPRODUCE:
1. Выполнить авторизацию и получить токен пользователя
2. Создать пост и добавить к нему комментарий, получить parentCommentId
3. Выполнить POST /api/v1/comments/{parentCommentId}/reply с телом, содержащим SQL-инъекцию в text:
{
  "text": "1; DROP TABLE users;"
}
4. Выполнить POST /api/v1/comments/{parentCommentId}/reply с другим SQL-инъекционным пейлоадом:
{
  "text": "' OR '1'='1"
}
5. Выполнить POST /api/v1/comments/{parentCommentId}/reply с третьим SQL-инъекционным пейлоадом:
{
  "text": "\" OR \"\" = \""
}
6. Выполнить POST /api/v1/comments/{parentCommentId}/reply с четвертым SQL-инъекционным пейлоадом:
{
  "text": "admin' --"
}
7. Проверить базу данных на наличие созданных комментариев с SQL-инъекционными пейлоадами в text

EXPECTED RESULT:
- SQL-инъекционные пейлоады должны отклоняться валидацией
- API должен возвращать ошибку "access denied" или "validation error" при попытке использовать SQL-инъекции в text
- Комментарии с SQL-инъекционными пейлоадами в text не должны создаваться в базе данных

ACTUAL RESULT:
API успешно создает комментарии с SQL-инъекционными пейлоадами в text:
1; DROP TABLE users;
' OR '1'='1
" OR "" = "
admin' --
API возвращает статус "ok" вместо ожидаемой ошибки
Комментарии реально создаются в базе данных с опасными данными в поле text
При использовании неправильно сформированных SQL-запросов это может привести к SQL-инъекциям и потенциальному нарушению целостности базы данных

SEVERITY:
Critical

PRIORITY:
P1

NOTES:
Это критическая уязвимость безопасности. SQL-инъекции в text могут привести к выполнению произвольного SQL-кода, что может привести к удалению данных (DROP TABLE), обходу аутентификации (OR '1'='1), извлечению чувствительных данных и нарушению целостности базы данных. Необходимо добавить валидацию, запрещающую SQL-специальные символы и конструкции в text. Также необходимо убедиться, что все SQL-запросы используют параметризованные запросы (prepared statements) для защиты от SQL-инъекций
========================================
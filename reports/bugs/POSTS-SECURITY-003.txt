========================================
BUG-ID: POSTS-SECURITY-003
SUMMARY:
API принимает XSS-пейлоады в поле text при добавлении комментария к посту, создавая комментарии с потенциально опасными данными. XSS-пейлоады не отклоняются валидацией и успешно сохраняются в базе данных

ENVIRONMENT:
Local Docker nanoreddit
Endpoint: /api/v1/posts/{postId}/addComment

PRECONDITIONS:
Имеется валидный токен пользователя для авторизации и создан пост с известным postId

STEPS TO REPRODUCE:
1. Выполнить авторизацию и получить токен пользователя
2. Создать пост и получить postId
3. Выполнить POST /api/v1/posts/{postId}/addComment с телом, содержащим XSS-пейлоад в text:
{
  "text": "<script>alert(1)</script>"
}
4. Выполнить POST /api/v1/posts/{postId}/addComment с другим XSS-пейлоадом:
{
  "text": "<img src=x onerror=alert(2)>"
}
5. Выполнить POST /api/v1/posts/{postId}/addComment с третьим XSS-пейлоадом:
{
  "text": "<svg><script>alert(3)</script></svg>"
}
6. Проверить базу данных на наличие созданных комментариев с XSS-пейлоадами в text

EXPECTED RESULT:
- XSS-пейлоады должны отклоняться валидацией
- API должен возвращать ошибку "access denied" или "validation error" при попытке использовать XSS-пейлоады в text
- Комментарии с XSS-пейлоадами в text не должны создаваться в базе данных

ACTUAL RESULT:
API успешно создает комментарии с XSS-пейлоадами в text:
<script>alert(1)</script>
<img src=x onerror=alert(2)>
<svg><script>alert(3)</script></svg>
API возвращает статус "ok" вместо ожидаемой ошибки "access denied"
Комментарии реально создаются в базе данных с опасными данными в поле text
При отображении text комментария в веб-интерфейсе без санитизации это может привести к выполнению JavaScript-кода и XSS-атакам

SEVERITY:
Critical

PRIORITY:
P1

NOTES:
Это критическая уязвимость безопасности. XSS-пейлоады в text могут быть выполнены при отображении комментариев в веб-интерфейсе, что приводит к XSS-атакам. Необходимо добавить валидацию и санитизацию для поля text, запрещающую HTML/JavaScript-теги. Проблема аналогична POSTS-SECURITY-001, но возникает в endpoint добавления комментариев
========================================